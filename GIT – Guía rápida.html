
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>GIT &#8211; Guía rápida</title>
<meta name="description" content="Notas: Cambios locales se refiere a los ficheros del directorio de trabajo (working dir) que hayan sido modificados desde el último commit. COMMIT es un indicador cualquiera en el repositorio: SHA1 de un..." />

<link rel="alternate" type="application/rss+xml" href="http://www.edy.es/dev/feed/" title="Edy&#039;s Projects latest posts" />

<link rel="alternate" type="application/rss+xml" href="http://www.edy.es/dev/comments/feed/" title="Edy&#039;s Projects latest comments" />

<link rel="pingback" href="http://www.edy.es/dev/xmlrpc.php" />

<link rel="shortcut icon" href="http://www.edy.es/dev/wp-content/themes/arras/images/favicon.ico" />


<link rel='stylesheet' id='jetpack-widgets-css'  href='http://www.edy.es/dev/wp-content/plugins/jetpack/modules/widgets/widgets.css?ver=20121003' type='text/css' media='all' />
<link rel='stylesheet' id='sharedaddy-css'  href='http://www.edy.es/dev/wp-content/plugins/jetpack/modules/sharedaddy/sharing.css?ver=2.2.1' type='text/css' media='all' />
<link rel='stylesheet' id='page-list-style-css'  href='http://www.edy.es/dev/wp-content/plugins/page-list/css/page-list.css?ver=4.2' type='text/css' media='all' />
<link rel='stylesheet' id='thickbox-css'  href='http://www.edy.es/dev/wp-content/plugins/auto-thickbox-plus/thickbox.min.css?ver=1.0' type='text/css' media='all' />
<script type='text/javascript' src='http://www.edy.es/dev/wp-includes/js/jquery/jquery.js?ver=1.8.3'></script>
<script type='text/javascript' src='http://www.edy.es/dev/wp-content/themes/arras/js/superfish/hoverIntent.js'></script>
<script type='text/javascript' src='http://www.edy.es/dev/wp-content/themes/arras/js/superfish/superfish.js'></script>
<script type='text/javascript' src='http://www.edy.es/dev/wp-includes/js/comment-reply.min.js?ver=3.5.1'></script>
<script type='text/javascript' src='http://www.edy.es/dev/wp-content/themes/arras/js/jquery.validate.min.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.edy.es/dev/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.edy.es/dev/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Derive cookbook' href='http://www.edy.es/dev/docs/derive-cookbook/' />
<link rel='next' title='Edy&#8217;s Vehicle Physics' href='http://www.edy.es/dev/vehicle-physics/' />
<meta name="generator" content="WordPress 3.5.1" />
<link rel='canonical' href='http://www.edy.es/dev/docs/git-guia-rapida/' />
<link rel='shortlink' href='http://wp.me/P1PjRF-2Q' />

<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="GIT - Guía rápida" />
<meta property="og:url" content="http://www.edy.es/dev/docs/git-guia-rapida/" />
<meta property="og:description" content="Notas: Cambios locales se refiere a los ficheros del directorio de trabajo (working dir) que hayan sido modificados desde el último commit. COMMIT es un indicador cualquiera en el repositorio: SHA1..." />
<meta property="og:site_name" content="Edy&#039;s Projects" />
<meta property="og:image" content="http://www.edy.es/dev/wp-content/uploads/2011/12/git-logo.png" />
<link rel="stylesheet" href="http://www.edy.es/dev/wp-content/themes/arras/css/styles/default-edy.css" type="text/css" media="screen,projection" /><link rel="stylesheet" href="http://www.edy.es/dev/wp-content/themes/arras/css/layouts/1c-fixed.css" type="text/css" />
<!-- Generated by Arras WP Theme -->
<style type="text/css">
	.posts-default li  { width: 205px; height: 225px; }
	.posts-default img, .posts-default .entry-thumbnails-link { width: 195px; height: 110px; }
	.posts-default .entry-meta { width: 195px; }
	.posts-default .entry-thumbnails { width: 205px; height: 120px; }
			.posts-quick .entry-thumbnails img { width: 115px; height: 115px; }
		.posts-quick .entry-meta { width: 115px; }
			.featured { height: 310px; }
	.featured-article { width: 640px; height: 300px; }
	.featured-article img { width: 640px; height: 300px; }
	#controls { width: 610px; top: 135px; }
	#controls .next { left: 610px; }
	.featured-entry { height: 100px; top: -100px; }
	.featured-slideshow-inner { height: 300px }
		.featured-stories-summary  { margin-left: 51px; }
	.single .post .entry-photo img, .single-post .entry-photo img  { width: 620px; height: 300px; }
	.blog-name a { background: url(http://www.edy.es/dev/wp-content/uploads/2011/11/webplatelogo.png) no-repeat; text-indent: -9000px; width: 247px; height: 150px; display: block; }
	.footer-sidebar  { width: 920px; }
	</style>
	<script type="text/javascript">
	jQuery(document).ready(function($) {

$('.multi-sidebar').tabs();

$('.sf-menu').superfish({autoArrows: true, speed: 'fast', dropShadows: 'true'});

$('#commentform').validate();


});	</script>
	
<!-- Dynamic Widgets v1.5.4 by QURL - http://www.qurl.nl //-->
<link rel="stylesheet" href="http://www.edy.es/dev/wp-content/themes/arras/user.css" type="text/css" media="screen,projection" /></head>

<body class="page page-id-176 page-child parent-pageid-228 page-template page-template-pagetpl-onecolumn-php layout-2c-r-fixed no-js style-default-edy">
<script type="text/javascript">
//<![CDATA[
(function(){
var c = document.body.className;
c = c.replace(/no-js/, 'js');
document.body.className = c;
})();
//]]>
</script>

<div id="top-menu" class="clearfix">
	</div><!-- #top-menu -->

<div id="header">
	<div id="branding" class="clearfix">
	<div class="logo">
				<span class="blog-name"><a href="http://www.edy.es/dev">Edy&#039;s Projects</a></span>
		<span class="blog-description"></span>
			</div>
	<div id="searchbar"><form method="get" class="searchform clearfix" action="http://www.edy.es/dev/">
 <input type="text" value="Search..." name="s" class="s" onfocus="this.value=''" />
 <input type="submit" class="searchsubmit" value="Search" title="Search Edy&#039;s Projects" />
</form>
</div>
	</div><!-- #branding -->
</div><!-- #header -->

<div id="nav">
	<div id="nav-content" class="clearfix">
	<div class="menu-mainmenu-container"><ul id="menu-mainmenu" class="sf-menu menu clearfix"><li id="menu-item-220" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-220"><a href="http://www.edy.es/dev/category/blog/">Blog</a></li>
<li id="menu-item-233" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-233"><a href="http://www.edy.es/dev/docs/">Documents</a></li>
<li id="menu-item-397" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-397"><a href="http://www.edy.es/dev/vehicle-physics/">Edy&#8217;s Vehicle Physics</a>
<ul class="sub-menu">
	<li id="menu-item-402" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-402"><a href="http://www.edy.es/dev/vehicle-physics/features/">Features</a></li>
	<li id="menu-item-401" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-401"><a href="http://www.edy.es/dev/vehicle-physics/live-demo/">City demo</a></li>
	<li id="menu-item-659" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-659"><a href="http://www.edy.es/dev/vehicle-physics/ferrari-demo/">Ferrari demo</a></li>
	<li id="menu-item-400" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-400"><a href="http://www.edy.es/dev/vehicle-physics/videos/">Gallery &#038; Videos</a></li>
	<li id="menu-item-399" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-399"><a href="http://www.edy.es/dev/vehicle-physics/download/">Download</a></li>
	<li id="menu-item-398" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-398"><a href="http://www.edy.es/dev/vehicle-physics/edys-vehicle-physics-documentation/">Documentation</a></li>
</ul>
</li>
</ul></div>		<ul class="quick-nav clearfix">
					<li><a id="rss" title="Edy&#039;s Projects RSS Feed" href="http://www.edy.es/dev/feed/">RSS Feed</a></li>
				
						
						
			</ul>
	</div><!-- #nav-content -->
</div><!-- #nav -->

<div id="wrapper">
	
	  
	<div id="main" class="clearfix">
    <div id="container" class="clearfix">

<div id="content" class="section">

		<div id="post-176" class="post-176 page type-page status-publish hentry clearfix single-post">
        <h1 class="entry-title"><a href="http://www.edy.es/dev/docs/git-guia-rapida/" rel="bookmark">GIT &#8211; Guía rápida</a></h1>        
        <div class="entry-content clearfix">
		<p>Notas:</p>
<ul>
<li><em>Cambios locales</em> se refiere a los ficheros del directorio de trabajo (<em>working dir</em>) que hayan sido modificados desde el último commit.</li>
<li><em>COMMIT</em> es un <a  href="http://www.kernel.org/pub/software/scm/git/docs/gitrevisions.html">indicador cualquiera en el repositorio</a>: SHA1 de un commit, tag, HEAD (ultimo commit de la rama actual), HEAD~1 (antecesor de HEAD)&#8230; La mayoría de las veces, si no se indica se asume HEAD (último commit de la rama actual).</li>
</ul>
<p>Enlaces:</p>
<ul>
<li><a  href="http://git-scm.org">http://git-scm.org</a></li>
<li><a  href="http://www-cs-students.stanford.edu/~blynn/gitmagic/intl/es/ch02.html">http://www-cs-students.stanford.edu/~blynn/gitmagic/intl/es/ch02.html</a></li>
</ul>
<h4>Inicializar repositorio</h4>
<pre>$ git init
$ git add .                           # Marca todos los ficheros para el próximo commit.
$ git commit -m "Estado inicial"      # Crea un nuevo commit con los ficheros marcados.</pre>
<h4>Crear ramas</h4>
<pre>$ git branch &lt;nombre&gt;                 # Crear la rama en el punto actual. Es necesario hacer checkout a la misma.
$ git branch &lt;nombre&gt; &lt;COMMIT&gt;        # Crea la rama a partir del commit dado. Es necesario hacer checkout.
$ git checkout -b &lt;nombre&gt;            # Crear rama en el punto actual y hacerle checkout.
$ git checkout -b &lt;nombre&gt; &lt;COMMIT&gt;   # Crear la rama a partir del commit dado y hacerle checkout.
$ git branch -m &lt;actual&gt; &lt;nuevo&gt;      # Renombrar la rama.</pre>
<p>Al crear una rama nueva y hacerle checkout los cambios locales se trasladan a esa rama, con lo que el siguiente commit será sobre la rama nueva.</p>
<h4>Moverse a una rama o a un commit específico</h4>
<pre>$ git checkout &lt;COMMIT&gt;            # No toca los cambios locales
$ git checkout -f &lt;COMMIT&gt;         # Sobreescribe los cambios locales</pre>
<p>Se puede hacer una rama desde el commit actual para continuar el desarrollo (git branch). Si se hacen cambios en un commit intermedio (no es un <em>HEAD</em>) y se commitean sin hacer una rama, se crea un commit separado que sale del actual (rama sin nombre).</p>
<h4>Fusionar ramas (merge)</h4>
<pre>$ git merge &lt;nombre&gt;               # Fusiona la rama indicada en la rama actual</pre>
<p>Las diferencias se resuelven automáticamente si es posible. En caso de conflictos (código o ficheros binarios modificados en ambas ramas) el proceso se detiene (<em>merging</em>) a la espera de una resolución manual.</p>
<p><strong>Resolver conflictos de fusionado:</strong></p>
<p>Dentro de cada fichero en conflicto se añaden marcas alrededor del código conflictivo, mostrando al mismo tiempo la versión de una y otra rama (excepto en ficheros binarios).</p>
<pre>$ git status                       # Muestra la situación actual del merge (Unmerged paths)
$ git diff                         # Muestra los ficheros conflictivos y las diferencias
$ git add &lt;file&gt;                   # Marca el fichero como corregido una vez resuelto el conflicto
$ git rm &lt;file&gt;                    # Marca el fichero como eliminado en la revisión resuelta</pre>
<p>La sección &#8220;Unmerged paths&#8221; de <em>git status</em> muestra los ficheros que requieren atención. Debe resolverse cada conflicto manualmente dentro del fichero (eliminando las marcas agregadas por git) y marcarlo como resuelto con <em>git add</em>.</p>
<p>En vez de editar los ficheros es posible escoger una de las dos versiones disponibles (rama actual o rama que se está fusionando):</p>
<pre>$ git checkout --ours -- &lt;file&gt;    # Obtener la versión del fichero en la rama actual
$ git checkout --theirs -- &lt;file&gt;  # Obtener la versión del fichero en la rama que se está fusionando con la actual</pre>
<p>Para abortar la acción o anularla una vez realizada:</p>
<pre>$ git reset --hard HEAD            # Abortar el proceso y volver a la situación anterior al intento de merge
$ git reset --hard ORIG_HEAD       # Deshacer si ya se había confirmado con <em>git commit</em></pre>
<p>Una vez resueltos todos los conflictos se confirma el proceso:</p>
<pre>$ git commit                       # Confirmar la fusión (merge) una vez resueltos todos los conflictos</pre>
<p><strong>Resolución gráfica de conflictos:</strong></p>
<pre>$ git mergetool                    # Inicia la herramienta gráfica de resolución de conflictos</pre>
<p>La herramienta crea ficheros adicionales por cada fichero en conflicto (backup, base, local, remote) para que la herramienta de resolución pueda mostrarlos al usuario al mismo tiempo y éste establecer la versión final. Estos ficheros deberían borrarse automáticamente tras la edición (en caso de que persistan es necesario borrarlos manualmente).</p>
<p>La resolución básica sólo sirve para ficheros de texto. En ficheros binarios usar <em>git checkout &#8211;ours</em> o <em>git checkout &#8211;theirs</em> para escoger una de las dos versiones disponibles.</p>
<p>Configurar una herramienta gráfica para resolver conflictos:<br />
<a  href="http://www.davesquared.net/2010/03/easier-way-to-set-up-diff-and-merge.html">http://www.davesquared.net/2010/03/easier-way-to-set-up-diff-and-merge.html (Windows)</a><br />
<a  href="http://gitguru.com/2009/02/22/integrating-git-with-a-visual-merge-tool">http://gitguru.com/2009/02/22/integrating-git-with-a-visual-merge-tool (Mac)</a></p>
<h4></h4>
<h4>Deshacer cambios</h4>
<pre>$ git revert &lt;COMMIT&gt;              # La recuperación hace un nuevo commit en la rama actual sin ir "hacia atrás" en la historia
$ git reset --hard                 # Deshace los cambios locales
$ git reset --hard HEAD~1          # Elimina el último commit</pre>
<p>Recuperar una versión determinada de un fichero o path:</p>
<pre>$ git reset &lt;COMMIT&gt; -- &lt;path&gt;     # git reset NO sobreescribe cambios locales
$ git reset -p &lt;COMMIT&gt; -- &lt;path&gt;  # Seleccionar interactivamente las partes a restaurar
$ git checkout &lt;COMMIT&gt; -- &lt;path&gt;  # Sobreescribe cambios locales sin preguntar</pre>
<p>En Windows se puede abrir git-bash directamente en cualquier subcarpeta carpeta del proyecto (boton derecho &#8211; git bash here). Entonces para recuperar un fichero o path local:</p>
<pre>$ git checkout &lt;COMMIT&gt; -- ./&lt;path&gt;</pre>
<h4>Conocer el historial de un fichero</h4>
<pre>$ git log &lt;path&gt;                       # Mostrar todos los commits para un fichero especifico con info detallada
$ git log -n 2 -- &lt;path&gt;               # Mostrar sólo los dos últimos commits para ese fichero
$ git log -oneline -- &lt;path&gt;           # Formato abreviado con id de commit y comentario</pre>
<pre>$ git log &lt;SINCE&gt;..&lt;UNTIL&gt; -- &lt;path&gt;   # Mostrar los commits para ese fichero entre dos commits indicados</pre>
<p>Abrir GITK mostrando gráficamente el historial para un fichero o ruta dado:</p>
<pre>$ gitk &lt;path&gt;</pre>
<h4>Localizar y restaurar ficheros borrados</h4>
<pre>$ git log --diff-filter=D --summary      # Mostrar los ficheros borrados en los últimos commits
$ git checkout &lt;COMMIT&gt;^ -- &lt;path&gt;       # Restaurar un fichero borrado en un commit dado</pre>
<p>El ^ al final del commit es para restaurar el fichero desde el commit anterior al que fue borrado. Equivale a &lt;commit&gt;~1.</p>
<h4>Guardar cambios actuales para recuperarlos después</h4>
<p>Guarda los cambios desde el último commit. Al recuperarlos, si hay colisiones se hace un <em>merge</em>.</p>
<pre>$ git stash                    # Guarda cambios hechos desde el ultimo commit
$ git stash pop                # Recupera los cambios guardados
$ git stash list               # Lista los estados guardados
$ git stash apply              # Aplica cambios guardados sin borrarlos de la lista</pre>
<h4>Marcar el commit actual (Tag)</h4>
<pre>$ git tag -s &lt;nombre&gt; -m &lt;mensaje&gt;</pre>
<p>El tag queda firmado usando la firma GPG asociada al autor (ver <a  href="http://codaset.com/codaset/codaset/wiki/creating-ssh-keys">Creating SSH keys</a>).</p>
<p>El nombre identifica al tag y se usa en los demás comandos (ej. git checkout). Por ejemplo, v2.32.45r1</p>
<pre>$ git tag                              # Mostrar lista de tags
$ git tag -n                           # Mostrar lista y descripción</pre>
<pre>$ git tag -d &lt;nombre&gt;                  # Eliminar Tag
$ git tag -a &lt;nombre&gt;                  # Crear Tag no firmado
$ git push --tags                      # Subir Tags al repositorio remoto
$ git push origin :refs/tags/&lt;nombre&gt;  # Eliminar Tag borrado localmente</pre>
<h4>Localizar ficheros con una cadena de texto</h4>
<pre>$ git grep &lt;texto&gt;                     # Mira en todos los ficheros del repositorio
$ git grep &lt;texto&gt; -- &lt;ruta&gt;           # Mira sólo en la ruta o rutas especificadas
                                       # Admite patrones (ej. *.cpp)</pre>
<h2>Trabajo con repositorios remotos</h2>
<h4>Obtener el repositorio desde otra localización (<em>fork</em>):</h4>
<pre>$ git clone &lt;ruta al repositorio&gt;      # Clonar y hacer checkout del HEAD de la rama actual
$ git clone -n &lt;ruta al repositorio    # Clonar pero no hacer checkout</pre>
<p>No hay que hacer <em>git init</em> ni crear directorio (se crea automáticamente a partir de la carpeta actual). La ruta puede ser una carpeta local, carpeta en red, URL, o cualquier otra referencia a un repositorio remoto. Si es privado será necesario tener la clave SSH configurada adecuadamente (<a  href="http://projects.edy.es/trac/edy_vehicle-physics/wiki/GitSetup">ejemplo</a>).</p>
<h4>Recibir los cambios desde el repositorio original:</h4>
<pre>$ git pull</pre>
<p>Es equivalente a:</p>
<pre>$ git fetch                            # Trae los cambios
$ git merge origin                     # Fusionarlos con la versión actual</pre>
<h4>Subir cambios al repositorio:</h4>
<pre>$ git push origin &lt;branch&gt;             # Subir sólo la rama indicada
$ git push --all                       # Subir y actualizar todas las referencias remotas</pre>
<h4>Gestionar Tags en el repositorio:</h4>
<pre>$ git push --tags                      # Subir Tags (no suben de otra forma)
$ git push origin :refs/tags/&lt;nombre&gt;  # Eliminar Tag borrado localmente</pre>
<h4>Borrar una rama remota:</h4>
<pre>$ git push origin :&lt;branch&gt;
$ git push origin --delete &lt;branch&gt;    # GIT versión 1.7.0+</pre>
<h4>Listar los repositorios remotos y sus URLs:</h4>
<pre>$ git remote -v show</pre>
<h4>Cambiar la URL de un repositorio remoto (cambia ambos fetch y push)</h4>
<pre>$ git remote set-url origin &lt;nueva URL&gt;</pre>
<h4>Revertir un commit en local y también en el repositorio remoto:</h4>
<p>(lo lógico es que no hubiera sido subido)</p>
<pre>$ git reset --hard HEAD~1
$ git push origin +master:master</pre>
<p><em>&#8220;The +master:master thing is necessary to tell git that you really do want to rewind the history here, (it&#8217;s definitely not part of the normal flow).&#8221;</em></p>
<p><a  href="http://www.zorched.net/2008/04/14/start-a-new-branch-on-your-remote-git-repository/">Tutorial<br />
</a><a  href="http://www.gitready.com/beginner/2009/02/02/push-and-delete-branches.html">Push and delete branches</a></p>
<h2>Tareas especiales</h2>
<h4>Marcar para commit sólo determinadas partes de un fichero</h4>
<pre>$ git add --patch              # Preguntar individualmente por cada cambio en todos los ficheros modificados
$ git add --patch &lt;file&gt;       # Preguntar individualmente por cada cambio en un fichero determinado</pre>
<p>Se muestra cada cambio en el fichero individualmente y se pregunta qué hacer con él. Respuestas inmediatas:</p>
<pre>    y     aceptar este cambio para que entre en el próximo commit.
    n     no marcar este cambio. No entrará en el próximo commit.
    q     no marcar este cambio y salir. Se mantendrán los que ya se hayan marcado pero no los restantes.
    a     marcar este cambio y todos los demás de este fichero.
    d     no marcar este cambio ni ninguno de los restantes de este fichero.</pre>
<p><a  href="https://www.kernel.org/pub/software/scm/git/docs/git-add.html">Otras respuestas disponibles</a> permiten saltar entre los cambios (g j k), reducirlos a partes más pequeñas (s), o editarlos manualmente (e).</p>
<h4>Añadir un nuevo fichero o patrón a .gitignore</h4>
<p>Añadirlo a <strong><em>.gitignore</em></strong> sigue controlando aquellos ficheros que ya están en el repositorio, y</p>
<pre>git rm &lt;file&gt;</pre>
<p>eliminaría el fichero del directorio de trabajo.</p>
<p>Para dejar de controlar el fichero o patrón manteniendo las copias actuales añadirlo a .gitignore y entonces:</p>
<pre>$ git rm --cached &lt;file&gt;
$ git rm --cached -r &lt;pattern&gt;        # Eliminar ocurrencias en todo el arbol</pre>
<p>Borrar el fichero completamente del repositorio implica <a  href="http://github.com/guides/completely-remove-a-file-from-all-revisions">reescribir toda la historia</a>. Nada recomendable.</p>
<h4>Localizar el cambio que originó un problema</h4>
<pre>$ git bisect start
$ git bisect bad                      # La versión actual va mal
$ git bisect good v2.6.13-rc2         # Esta versión es buena</pre>
<p><a  href="http://www-cs-students.stanford.edu/~blynn/gitmagic/ch05.html#_where_did_it_all_go_wrong">Información<br />
</a><a  href="http://www.kernel.org/pub/software/scm/git/docs/git-bisect.html">Manual para git bisect</a></p>
<h2>Trabajar con submódulos (<em>submodules</em>)</h2>
<p>Los submódulos son carpetas dentro de un repositorio cuyo contenido es a su vez un repositorio de GIT autogestionado.</p>
<h4>Añadir un submódulo a un repositorio</h4>
<pre>$ git submodule add &lt;ruta al repositorio&gt; &lt;carpeta&gt;       # Añade el repositorio dado como submódulo 
                                                          # en la carpeta indicada del repositorio actual.</pre>
<p>El submódulo se inicializa en la carpeta indicada y se le hace checkout a la rama Master.</p>
<p>Los cambios locales en el repositorio anfitrión se limitan al fichero <em>.gitmodules</em> y a la nueva carpeta, pero no al contenido (<em>untracked content</em>). Desde el punto de vista del repositorio anfitrión, un submódulo sólo consta de una definición en el fichero .gitmodules y de una carpeta. Esta carpeta es especial y hace referencia a un <em>commit</em> determinado en el origen del submódulo.</p>
<p>La carpeta con el submódulo es un repositorio GIT independiente. Se pueden usar comandos GIT desde esa carpeta, o <em>git gui / gitk</em> en ella. Los cambios afectarán sólo al contenido de la misma. Es posible crear y usar ramas, sincronizar con el origen, etc.</p>
<p>Notas:</p>
<ul>
<li>El repositorio a añadir como submódulo debe tener contenido (no sirve un repositorio recién creado, sin commits).</li>
<li>Si  agregar el submódulo produce alguno de estos fallos:</li>
</ul>
<p style="padding-left: 60px;"><em id="__mceDel">fatal: Not a git repository: &lt;carpeta&gt;/../../.git/&lt;carpeta&gt;<br />
The following path is ignored by one of your .gitignore files: &lt;carpeta&gt;</em></p>
<p style="padding-left: 30px;">La solución es: (<a  href="http://stackoverflow.com/a/11764522">fuente</a>)</p>
<pre style="padding-left: 30px;">$ rm -fr &lt;carpeta&gt; .git/modules/&lt;carpeta&gt;</pre>
<h4>Actualizar los submódulos</h4>
<p>El repositorio anfitrión gestiona <strong>la referencia</strong> a un <em>commit</em> en el origen del submódulo, pero no gestiona el contenido de ese commit. Esta referencia se puede mover entre ramas, clonar, sincronizar con el origen, etc. Esto significa, por ejemplo, que al clonar un repositorio los submódulos estarán vacíos. El valor de la referencia sólo cambia (aparece en <em>git status</em>) cuando el submódulo se hace apuntar a un <em>commit</em> diferente en el origen. Por ejemplo, como resultado de commits locales en el submódulo, cambios de ramas, o sincronización con el origen.</p>
<p>Cuando la referencia cambia por operaciones en el repositorio anfitrión (ej. cambios de rama o <em>checkout</em> a revisiones anteriores),  es necesario recrear el contenido apropiado dentro del submódulo para que coincida con el <em>commit</em> al que apuntaba en la revisión actual del anfitrión.</p>
<pre>$ git submodule update --init               # Clona los submódulos que falten por clonar y hace checkout del commit referenciado.
                                            # --init asegura que los submódulos estén inicializados (ej. tras un clone).
$ git submodule update --init --recursive   # Si los submódulos contienen otros submódulos, actualizarlos a su vez.</pre>
<p>El contenido de los submódulos se actualiza y gestiona con las operaciones GIT normales dentro del submódulo.</p>
<h4>Eliminar un submódulo de un repositorio</h4>
<p>Debe hacerse manualmente, no hay un comando para ello:</p>
<p><strong>1.</strong> Eliminar la entrada del submódulo en el fichero <em>.gitmodules</em>. Si sólo hay un submódulo se puede borrar el fichero entero. Ejemplo:</p>
<p style="padding-left: 30px;">[submodule "Assets/Common"]<br />
path = Assets/Common<br />
url = ssh://git@gitserver.com/user/assets-common.git</p>
<p><strong>2.</strong> Eliminar la entrada del submódulo en el fichero .git/config. Ejemplo:</p>
<p style="padding-left: 30px;">[submodule "Assets/Common"]<br />
url = ssh://git@gitserver.com/user/assets-common.git</p>
<p><strong>3.</strong> Borrar del índice la carpeta del submódulo</p>
<pre>$ git rm --cached &lt;carpeta&gt;</pre>
<p><strong>4.</strong> Borrar las carpetas del submódulo en en el repositorio anfitrión</p>
<pre>$ rm -fr &lt;carpeta&gt; .git/modules/&lt;carpeta&gt;</pre>
<p>Hecho. El submódulo queda completamente eliminado del repositorio.</p>
<div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-official sd-sharing"><h3 class="sd-title">Share:</h3><div class="sd-content"><ul><li class="share-facebook"><div class="like_button"><iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.edy.es%2Fdev%2Fdocs%2Fgit-guia-rapida%2F&amp;layout=button_count&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;height=21&amp;locale=en_US&amp;width=90" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:96px; height:21px;" allowTransparency="true"></iframe></div></li><li class="share-google-plus-1"><div class="googleplus1_button"><div class="g-plusone" data-size="medium" data-callback="sharing_plusone" data-href="http://www.edy.es/dev/docs/git-guia-rapida/"></div></div></li><li class="share-twitter"><div class="twitter_button"><iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.html?url=http%3A%2F%2Fwww.edy.es%2Fdev%2Fdocs%2Fgit-guia-rapida%2F&#038;counturl=http%3A%2F%2Fwww.edy.es%2Fdev%2Fdocs%2Fgit-guia-rapida%2F&#038;count=horizontal&#038;text=GIT%20-%20Gu%C3%ADa%20r%C3%A1pida%3A" style="width:101px; height:20px;"></iframe></div></li><li class="share-end"></li></ul><div class="sharing-clear"></div></div></div></div>  
        		</div>
        
		
            </div>
    
		<a name="comments"></a>
    		
	    

</div><!-- #content -->
</div><!-- #container -->

	</div><!-- #main -->
	
	    
    <div id="footer">
		<div class="footer-sidebar-container clearfix">
							<ul id="footer-sidebar-1" class="footer-sidebar clearfix xoxo">
										<li></li>
									</ul>
					</div>
		
		<div class="footer-message">
		<p class="floatright"><a class="arras" href="http://www.arrastheme.com/"><strong>About Arras WordPress Theme</strong></a></p>
		<p style="text-align: center;">Copyright Angel Garcia &quot;Edy&quot;. All Rights Reserved &nbsp; | &nbsp; <a href="/dev/about/">About</a> &nbsp; | &nbsp; <a href="/dev/site-map/">Site map</a></p>		
		</div><!-- .footer-message -->
    </div>
</div><!-- #wrapper -->
	<div style="display:none">
	</div>
<script type="text/javascript">
jQuery(document).ready(function($) {

	
});
</script>
<script type='text/javascript' src='http://www.edy.es/dev/wp-content/plugins/jetpack/modules/sharedaddy/sharing.js?ver=20121205'></script>
		<script type="text/javascript">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-facebook' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
		});
		</script>
					<script type="text/javascript">
				function sharing_plusone( obj ) {
					jQuery.ajax( {
						url: 'http://www.edy.es/dev/docs/git-guia-rapida/?share=google-plus-1',
						type: 'POST',
						data: obj
					} );
				}
				jQuery( document.body ).on( 'post-load', function() {
					gapi.plusone.go();
				});
			</script>
			<script type="text/javascript" src="//apis.google.com/js/plusone.js"></script> 		<script type="text/javascript">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-twitter' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
		});
		</script>
		<script type='text/javascript' src='http://www.edy.es/dev/wp-includes/js/jquery/ui/jquery.ui.core.min.js?ver=1.9.2'></script>
<script type='text/javascript' src='http://www.edy.es/dev/wp-includes/js/jquery/ui/jquery.ui.widget.min.js?ver=1.9.2'></script>
<script type='text/javascript' src='http://www.edy.es/dev/wp-includes/js/jquery/ui/jquery.ui.tabs.min.js?ver=1.9.2'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201317'></script>
<script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?ver=2013Apraa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.edy.es/dev/wp-content/plugins/jetpack/modules/wpgroho.js?ver=3.5.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var thickboxL10n = {"next":"Next >","prev":"< Prev","first":"\u00ab First","last":"Last \u00bb","image":"Image","of":"of","close":"Close","noiframes":"This feature requires inline frames. You have iframes disabled or your browser does not support them.","loadingAnimation":"http:\/\/www.edy.es\/dev\/wp-content\/plugins\/auto-thickbox-plus\/images\/loadingAnimation.gif","closeImage":"http:\/\/www.edy.es\/dev\/wp-content\/plugins\/auto-thickbox-plus\/images\/tb-close.png"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.edy.es/dev/wp-content/plugins/auto-thickbox-plus/thickbox.min.js?ver=1.0'></script>
<script type='text/javascript'>
/* <![CDATA[ */
tb_options.effect_open = 'fade';
tb_options.effect_trans = 'fade';
tb_options.click_img = 'none';
/* ]]> */
</script>

	<script src="http://stats.wordpress.com/e-201317.js" type="text/javascript"></script>
	<script type="text/javascript">
	st_go({v:'ext',j:'1:2.2.1',blog:'27007427',post:'176',tz:'2'});
	var load_cmc = function(){linktracker_init(27007427,176,2);};
	if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
	else load_cmc();
	</script></body>
</html>
   